# 【第三期】21 天打卡行动

#21 天打卡# Day17
专栏：数据分析实战 45 讲
时间：2020-02-29
学习：27
学习要点和总结：

一、[27 丨 K-Means（下）：如何使用 K-Means 对图像进行分割？](https://time.geekbang.org/column/article/81591)

1. 图像分割就是利用图像自身的信息，比如颜色、纹理、形状等特征进行划分，将图像分割成不同的区域，相当于是对图像中的像素进行了聚类
2. 聚类只是分割图像的一种方式，除了聚类，我们还可以基于图像颜色的阈值进行分割，或者基于图像边缘的信息进行分割等。
3. jpg 格式的图像是三个通道 (R,G,B)，也就是一个像素点具有 3 个特征值。
4. fit_predict(data) 得到聚类的结果。得到聚类的结果 label 后，实际上是一个一维的向量，我们需要把它转化成图像尺寸的矩阵。label 的聚类结果是从 0 开始统计的，当聚类数为 2 的时候，聚类的标识 label=0 或者 1。
5. 我们可以将 label=0 设定为灰度值 255，label=1 设定为灰度值 127。具体方法是用 int(256/(label[x][y]+1))-1
6. 用 image.new 创建一个新的图像，用 putpixel 函数对新图像的点进行灰度值的设置，最后用 save 函数保存聚类的灰度图像
7. skimage 工具包，它是图像处理工具包。你需要使用 pip install scikit-image
8. skimage 中的 label2rgb 函数来将 label 分类标识转化为颜色数值，因为我们的颜色值范围是[0,255]，所以还需要乘以 255 进行转化，最后再转化为 np.uint8 类型
9. transpose(1,0,2)，将原来的 (0,1,2）顺序转化为 (1,0,2) 顺序，即第一维和第二维互换。
10. 使用 fromarray 函数，它可以通过矩阵来生成图片，并使用 save 进行保存。
